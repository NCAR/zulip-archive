[
    {
        "content": "<p>Hi, I have a jupyter notebook that reads data from the CMIP6 AWS Cloud storage for the CESM2 historical runs. The notebook was working until Friday last week and over the weekend it seems to have run into an error trying to access the URL for the data. Here is the code snippet to query the URL:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\"># choose where to load data from:</span>\n<span class=\"n\">load_data_from</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;cloud&#39;</span>\n\n<span class=\"n\">col_url</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;https://raw.githubusercontent.com/NCAR/intake-esm-datastore/master/catalogs/pangeo-cmip6.json&quot;</span>\n<span class=\"n\">col</span> <span class=\"o\">=</span> <span class=\"n\">intake</span><span class=\"o\">.</span><span class=\"n\">open_esm_datastore</span><span class=\"p\">(</span><span class=\"n\">col_url</span><span class=\"p\">)</span>\n<span class=\"n\">file</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;available_data_cloud.txt&#39;</span>\n</pre></div>\n\n\n<p>The error message I get is: \"HTTPSConnectionPool(host='<a href=\"http://raw.githubusercontent.com\" target=\"_blank\" title=\"http://raw.githubusercontent.com\">raw.githubusercontent.com</a>', port=443): Max retries exceeded with url: /NCAR/intake-esm-datastore/master/catalogs/pangeo-cmip6.json (Caused by NewConnectionError('&lt;urllib3.connection.VerifiedHTTPSConnection object at 0x2b3643dfd240&gt;: Failed to establish a new connection: [Errno 110] Connection timed out'))\"</p>\n<p>I am able to open the URL on my browser. Could I know if there has been any change on the NCAR jupyterhub that would prevent accessing this URL starting this weekend?</p>\n<p>Thanks,<br>\nAneesh</p>",
        "id": 21934,
        "sender_full_name": "Aneesh Subramanian",
        "timestamp": 1606170642
    },
    {
        "content": "<p>If I am not mistaken, NCAR's jupyterhub directs users to either Casper (DAV) or Cheyenne.   If you run jupyterhub on Cheyenne, I don't believe that internet access is possible.    But this could be outdated information, I'm not sure.</p>",
        "id": 21954,
        "sender_full_name": "Brian Bonnlander",
        "timestamp": 1606175812
    },
    {
        "content": "<p>Thanks for the reply. I did have it running on both Cheyenne and Casper DAV jupyterhubs last week. It seems something broke over the weekend.</p>",
        "id": 21985,
        "sender_full_name": "Aneesh Subramanian",
        "timestamp": 1606199125
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"13\">@Anderson Banihirwe</span></p>",
        "id": 21986,
        "sender_full_name": "Matt Long",
        "timestamp": 1606222520
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"85\">@Aneesh subramanian</span>, </p>\n<blockquote>\n<p>If I am not mistaken, NCAR's jupyterhub directs users to either Casper (DAV) or Cheyenne.   If you run jupyterhub on Cheyenne, I don't believe that internet access is possible.    But this could be outdated information, I'm not sure.</p>\n</blockquote>\n<p>Brian is right about this.... The compute nodes on Cheyenne are on a network that is cut off from the public internet.... </p>\n<p>Can you confirm that your notebook doesn't work on casper: <a href=\"https://jupyterhub.ucar.edu/dav\" target=\"_blank\" title=\"https://jupyterhub.ucar.edu/dav\">https://jupyterhub.ucar.edu/dav</a> ? I am <br>\nasking because I am able to run your code on Casper, and everything seems to be working fine on casper:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">abanihi</span> <span class=\"n\">at</span> <span class=\"n\">casper</span><span class=\"o\">-</span><span class=\"n\">login2</span> <span class=\"ow\">in</span> <span class=\"o\">~</span>\n<span class=\"err\">$</span> <span class=\"n\">ipython</span>\n<span class=\"n\">Python</span> <span class=\"mf\">3.7</span><span class=\"o\">.</span><span class=\"mi\">8</span> <span class=\"o\">|</span> <span class=\"n\">packaged</span> <span class=\"n\">by</span> <span class=\"n\">conda</span><span class=\"o\">-</span><span class=\"n\">forge</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"n\">default</span><span class=\"p\">,</span> <span class=\"n\">Jul</span> <span class=\"mi\">31</span> <span class=\"mi\">2020</span><span class=\"p\">,</span> <span class=\"mi\">02</span><span class=\"p\">:</span><span class=\"mi\">25</span><span class=\"p\">:</span><span class=\"mi\">08</span><span class=\"p\">)</span>\n<span class=\"n\">Type</span> <span class=\"s1\">&#39;copyright&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;credits&#39;</span> <span class=\"ow\">or</span> <span class=\"s1\">&#39;license&#39;</span> <span class=\"k\">for</span> <span class=\"n\">more</span> <span class=\"n\">information</span>\n<span class=\"n\">IPython</span> <span class=\"mf\">7.19</span><span class=\"o\">.</span><span class=\"mi\">0</span> <span class=\"o\">--</span> <span class=\"n\">An</span> <span class=\"n\">enhanced</span> <span class=\"n\">Interactive</span> <span class=\"n\">Python</span><span class=\"o\">.</span> <span class=\"n\">Type</span> <span class=\"s1\">&#39;?&#39;</span> <span class=\"k\">for</span> <span class=\"n\">help</span><span class=\"o\">.</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]:</span> <span class=\"kn\">import</span> <span class=\"nn\">intake</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]:</span> <span class=\"n\">col_url</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;https://raw.githubusercontent.com/NCAR/intake-esm-datastore/master/catalogs/pangeo-cmip6.json&quot;</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">]:</span> <span class=\"n\">col</span> <span class=\"o\">=</span> <span class=\"n\">intake</span><span class=\"o\">.</span><span class=\"n\">open_esm_datastore</span><span class=\"p\">(</span><span class=\"n\">col_url</span><span class=\"p\">)</span>\n<span class=\"o\">/</span><span class=\"n\">glade</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">abanihi</span><span class=\"o\">/</span><span class=\"n\">softwares</span><span class=\"o\">/</span><span class=\"n\">miniconda3</span><span class=\"o\">/</span><span class=\"n\">envs</span><span class=\"o\">/</span><span class=\"n\">playground</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">python3</span><span class=\"o\">.</span><span class=\"mi\">7</span><span class=\"o\">/</span><span class=\"n\">site</span><span class=\"o\">-</span><span class=\"n\">packages</span><span class=\"o\">/</span><span class=\"n\">IPython</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">interactiveshell</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">3418</span><span class=\"p\">:</span> <span class=\"n\">DtypeWarning</span><span class=\"p\">:</span> <span class=\"n\">Columns</span> <span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span> <span class=\"n\">have</span> <span class=\"n\">mixed</span> <span class=\"n\">types</span><span class=\"o\">.</span><span class=\"n\">Specify</span> <span class=\"n\">dtype</span> <span class=\"n\">option</span> <span class=\"n\">on</span> <span class=\"kn\">import</span> <span class=\"nn\">or</span> <span class=\"nb\">set</span> <span class=\"n\">low_memory</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"o\">.</span>\n  <span class=\"n\">exec</span><span class=\"p\">(</span><span class=\"n\">code_obj</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_global_ns</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_ns</span><span class=\"p\">)</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]:</span> <span class=\"n\">col</span><span class=\"o\">.</span><span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">()</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]:</span>\n  <span class=\"n\">activity_id</span> <span class=\"n\">institution_id</span> <span class=\"n\">source_id</span> <span class=\"n\">experiment_id</span> <span class=\"n\">member_id</span> <span class=\"n\">table_id</span> <span class=\"n\">variable_id</span> <span class=\"n\">grid_label</span>                                             <span class=\"n\">zstore</span>  <span class=\"n\">dcpp_init_year</span>   <span class=\"n\">version</span>\n<span class=\"mi\">0</span>  <span class=\"n\">AerChemMIP</span>        <span class=\"n\">AS</span><span class=\"o\">-</span><span class=\"n\">RCEC</span>   <span class=\"n\">TaiESM1</span>       <span class=\"n\">histSST</span>  <span class=\"n\">r1i1p1f1</span>   <span class=\"n\">AERmon</span>    <span class=\"n\">od550aer</span>         <span class=\"n\">gn</span>  <span class=\"n\">gs</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">cmip6</span><span class=\"o\">/</span><span class=\"n\">AerChemMIP</span><span class=\"o\">/</span><span class=\"n\">AS</span><span class=\"o\">-</span><span class=\"n\">RCEC</span><span class=\"o\">/</span><span class=\"n\">TaiESM1</span><span class=\"o\">/</span><span class=\"n\">histSST</span><span class=\"o\">/...</span>             <span class=\"n\">NaN</span>  <span class=\"mi\">20200310</span>\n<span class=\"mi\">1</span>  <span class=\"n\">AerChemMIP</span>            <span class=\"n\">BCC</span>  <span class=\"n\">BCC</span><span class=\"o\">-</span><span class=\"n\">ESM1</span>       <span class=\"n\">histSST</span>  <span class=\"n\">r1i1p1f1</span>   <span class=\"n\">AERmon</span>       <span class=\"n\">mmrbc</span>         <span class=\"n\">gn</span>  <span class=\"n\">gs</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">cmip6</span><span class=\"o\">/</span><span class=\"n\">AerChemMIP</span><span class=\"o\">/</span><span class=\"n\">BCC</span><span class=\"o\">/</span><span class=\"n\">BCC</span><span class=\"o\">-</span><span class=\"n\">ESM1</span><span class=\"o\">/</span><span class=\"n\">histSST</span><span class=\"o\">/</span><span class=\"n\">r1i</span><span class=\"o\">...</span>             <span class=\"n\">NaN</span>  <span class=\"mi\">20190718</span>\n<span class=\"mi\">2</span>  <span class=\"n\">AerChemMIP</span>            <span class=\"n\">BCC</span>  <span class=\"n\">BCC</span><span class=\"o\">-</span><span class=\"n\">ESM1</span>       <span class=\"n\">histSST</span>  <span class=\"n\">r1i1p1f1</span>   <span class=\"n\">AERmon</span>     <span class=\"n\">mmrdust</span>         <span class=\"n\">gn</span>  <span class=\"n\">gs</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">cmip6</span><span class=\"o\">/</span><span class=\"n\">AerChemMIP</span><span class=\"o\">/</span><span class=\"n\">BCC</span><span class=\"o\">/</span><span class=\"n\">BCC</span><span class=\"o\">-</span><span class=\"n\">ESM1</span><span class=\"o\">/</span><span class=\"n\">histSST</span><span class=\"o\">/</span><span class=\"n\">r1i</span><span class=\"o\">...</span>             <span class=\"n\">NaN</span>  <span class=\"mi\">20191127</span>\n<span class=\"mi\">3</span>  <span class=\"n\">AerChemMIP</span>            <span class=\"n\">BCC</span>  <span class=\"n\">BCC</span><span class=\"o\">-</span><span class=\"n\">ESM1</span>       <span class=\"n\">histSST</span>  <span class=\"n\">r1i1p1f1</span>   <span class=\"n\">AERmon</span>       <span class=\"n\">mmroa</span>         <span class=\"n\">gn</span>  <span class=\"n\">gs</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">cmip6</span><span class=\"o\">/</span><span class=\"n\">AerChemMIP</span><span class=\"o\">/</span><span class=\"n\">BCC</span><span class=\"o\">/</span><span class=\"n\">BCC</span><span class=\"o\">-</span><span class=\"n\">ESM1</span><span class=\"o\">/</span><span class=\"n\">histSST</span><span class=\"o\">/</span><span class=\"n\">r1i</span><span class=\"o\">...</span>             <span class=\"n\">NaN</span>  <span class=\"mi\">20190809</span>\n<span class=\"mi\">4</span>  <span class=\"n\">AerChemMIP</span>            <span class=\"n\">BCC</span>  <span class=\"n\">BCC</span><span class=\"o\">-</span><span class=\"n\">ESM1</span>       <span class=\"n\">histSST</span>  <span class=\"n\">r1i1p1f1</span>   <span class=\"n\">AERmon</span>      <span class=\"n\">mmrso4</span>         <span class=\"n\">gn</span>  <span class=\"n\">gs</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">cmip6</span><span class=\"o\">/</span><span class=\"n\">AerChemMIP</span><span class=\"o\">/</span><span class=\"n\">BCC</span><span class=\"o\">/</span><span class=\"n\">BCC</span><span class=\"o\">-</span><span class=\"n\">ESM1</span><span class=\"o\">/</span><span class=\"n\">histSST</span><span class=\"o\">/</span><span class=\"n\">r1i</span><span class=\"o\">...</span>             <span class=\"n\">NaN</span>  <span class=\"mi\">20191127</span>\n</pre></div>",
        "id": 22092,
        "sender_full_name": "Anderson Banihirwe",
        "timestamp": 1606239203
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"13\">@Anderson Banihirwe</span> <span class=\"user-mention\" data-user-id=\"9\">@Brian Bonnlander</span> , I must be mistaken then. Sorry about that. I thought I had I had it running  on Cheyenne as well, but surely not as you say. </p>\n<p>I just checked and it does work on the Canvas DAV nodes. Thanks again for the clarification.</p>",
        "id": 22096,
        "sender_full_name": "Aneesh Subramanian",
        "timestamp": 1606240023
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"13\">Anderson Banihirwe</span> <span class=\"user-mention silent\" data-user-id=\"9\">Brian Bonnlander</span> , I must be mistaken then. Sorry about that. I thought I had I had it running  on Cheyenne as well, but surely not as you say. </p>\n<p>I just checked and it does work on the Canvas DAV nodes. Thanks again for the clarification.</p>\n</blockquote>\n<p>Casper DAV!</p>",
        "id": 22097,
        "sender_full_name": "Aneesh Subramanian",
        "timestamp": 1606242030
    }
]