<html>
<head><meta charset="utf-8"><title>pre-commit errors ¬∑ python-dev ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://127.0.0.1:4000/html/stream/17-python-dev/index.html">python-dev</a></h2>
<h3>Topic: <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html">pre-commit errors</a></h3>

<hr>

<base href="https://zulip2.cloud.ucar.edu">

<head><link href="http://127.0.0.1:4000/style.css" rel="stylesheet"></head>

<a name="9921"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9921" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9921">(May 28 2020 at 19:12)</a>:</h4>
<p>I'm trying to use <code>pre-commit</code> while working on a PR for <code>pop-tools</code>. When trying to commit, I get the following error:</p>
<div class="codehilite"><pre><span></span>[WARNING] Unstaged files detected.
[INFO] Stashing unstaged files to /glade/u/home/rbrady/.cache/pre-commit/patch1590692934.
[INFO] Installing environment for https://github.com/pre-commit/pre-commit-hooks.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
[INFO] Restored changes from /glade/u/home/rbrady/.cache/pre-commit/patch1590692934.
An unexpected error has occurred: CalledProcessError: command: (&#39;/glade/u/home/rbrady/.cache/pre-commit/repo4_mumozy/py_env-python3.8/bin/python&#39;, &#39;-mpip&#39;, &#39;install&#39;, &#39;.&#39;)
return code: 1
expected return code: 0
stdout: (none)
stderr:
    Traceback (most recent call last):
      File &quot;/glade/work/rbrady/miniconda3/envs/pop-tools-dev/lib/python3.8/runpy.py&quot;, line 193, in _run_module_as_main
        return _run_code(code, main_globals, None,
      File &quot;/glade/work/rbrady/miniconda3/envs/pop-tools-dev/lib/python3.8/runpy.py&quot;, line 86, in _run_code
        exec(code, run_globals)
      File &quot;/glade/u/home/rbrady/.cache/pre-commit/repo4_mumozy/py_env-python3.8/lib/python3.8/site-packages/pip/__main__.py&quot;, line 23, in &lt;module&gt;
        from pip._internal.cli.main import main as _main  # isort:skip # noqa
      File &quot;/glade/u/home/rbrady/.cache/pre-commit/repo4_mumozy/py_env-python3.8/lib/python3.8/site-packages/pip/_internal/cli/main.py&quot;, line 10, in &lt;module&gt;
        from pip._internal.cli.autocompletion import autocomplete
      File &quot;/glade/u/home/rbrady/.cache/pre-commit/repo4_mumozy/py_env-python3.8/lib/python3.8/site-packages/pip/_internal/cli/autocompletion.py&quot;, line 9, in &lt;module&gt;
        from pip._internal.cli.main_parser import create_main_parser
      File &quot;/glade/u/home/rbrady/.cache/pre-commit/repo4_mumozy/py_env-python3.8/lib/python3.8/site-packages/pip/_internal/cli/main_parser.py&quot;, line 7, in &lt;module&gt;
        from pip._internal.cli import cmdoptions
      File &quot;/glade/u/home/rbrady/.cache/pre-commit/repo4_mumozy/py_env-python3.8/lib/python3.8/site-packages/pip/_internal/cli/cmdoptions.py&quot;, line 24, in &lt;module&gt;
        from pip._internal.cli.progress_bars import BAR_TYPES
      File &quot;/glade/u/home/rbrady/.cache/pre-commit/repo4_mumozy/py_env-python3.8/lib/python3.8/site-packages/pip/_internal/cli/progress_bars.py&quot;, line 12, in &lt;module&gt;
        from pip._internal.utils.logging import get_indentation
      File &quot;/glade/u/home/rbrady/.cache/pre-commit/repo4_mumozy/py_env-python3.8/lib/python3.8/site-packages/pip/_internal/utils/logging.py&quot;, line 18, in &lt;module&gt;
        from pip._internal.utils.misc import ensure_dir
      File &quot;/glade/u/home/rbrady/.cache/pre-commit/repo4_mumozy/py_env-python3.8/lib/python3.8/site-packages/pip/_internal/utils/misc.py&quot;, line 20, in &lt;module&gt;
        from pip._vendor import pkg_resources
    ImportError: cannot import name &#39;pkg_resources&#39; from &#39;pip._vendor&#39; (/glade/u/home/rbrady/.cache/pre-commit/repo4_mumozy/py_env-python3.8/lib/python3.8/site-packages/pip/_vendor/__init__.py)
</pre></div>


<p>A log is available here, but says basically the same thing: <code>Check the log at /glade/u/home/rbrady/.cache/pre-commit/pre-commit.log</code>.</p>
<ol>
<li>I tried deleting my <code>miniconda3</code> folder and reinstalling miniconda, since sometimes things get tripped up there. </li>
<li>I tried clearing my <code>pre-commit</code> cache folder completely.</li>
<li>I tried downgrading <code>pip</code> to a version earlier than <code>20.1.1</code>.</li>
<li>I tried downgrading <code>pre-commit</code> to a version earlier than <code>2.4.0</code></li>
</ol>
<p>Not sure what's going on here. Googling wasn't of much help. Couldn't find anyone referencing this error: <code>ImportError: cannot import name 'pkg_resources' from 'pip._vendor'</code>.</p>



<a name="9922"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9922" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9922">(May 28 2020 at 19:12)</a>:</h4>
<p>Perhaps this has something to do with python 3.8?</p>



<a name="9923"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9923" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Levy <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9923">(May 28 2020 at 19:13)</a>:</h4>
<p>this doesn't help figure out what is going wrong, but what if you stash the changes yourself?</p>
<div class="codehilite"><pre><span></span>$ git stash
$ git commit
$ git stash apply
</pre></div>



<a name="9925"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9925" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9925">(May 28 2020 at 19:15)</a>:</h4>
<p><span class="user-mention" data-user-id="40">@Riley Brady</span>,  try cleaning the cache with</p>
<div class="codehilite"><pre><span></span>pre-commit gc <span class="o">&amp;&amp;</span> pre-commit uninstall <span class="o">&amp;&amp;</span> pre-commit install
</pre></div>



<a name="9926"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9926" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9926">(May 28 2020 at 19:16)</a>:</h4>
<p>And run <code>pre-commit run --all-files</code> to confirm that things are working again</p>



<a name="9927"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9927" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9927">(May 28 2020 at 19:17)</a>:</h4>
<p>Actually, use <code>pre-commit run</code> as a check</p>



<a name="9928"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9928" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9928">(May 28 2020 at 19:17)</a>:</h4>
<p><span class="user-mention" data-user-id="13">@Anderson Banihirwe</span>, no luck. Same error following those steps.</p>



<a name="9929"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9929" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9929">(May 28 2020 at 19:17)</a>:</h4>
<p>Okay</p>



<a name="9930"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9930" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9930">(May 28 2020 at 19:18)</a>:</h4>
<p>give me a second to look at the logs</p>



<a name="9931"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9931" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9931">(May 28 2020 at 19:18)</a>:</h4>
<p><span class="user-mention" data-user-id="10">@Michael Levy</span> that doesn't help either, stashing before committing. It breaks on the <code>git commit</code> step.</p>



<a name="9932"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9932" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9932">(May 28 2020 at 19:20)</a>:</h4>
<p>Can you post the content of  your <code>.pre-commit-hooks.yaml</code> file?</p>



<a name="9933"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9933" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Levy <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9933">(May 28 2020 at 19:20)</a>:</h4>
<p>Looking back at your error message, I think I misread something... I thought the</p>
<div class="codehilite"><pre><span></span>[INFO] Restored changes from /glade/u/home/rbrady/.cache/pre-commit/patch1590692934
</pre></div>


<p>was indicating that the error happened when restoring changes, rather than that being the last good step... sorry about that</p>



<a name="9934"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9934" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9934">(May 28 2020 at 19:21)</a>:</h4>
<blockquote>
<p>Can you post the content of  your <code>.pre-commit-hooks.yaml</code> file?</p>
</blockquote>
<p>Never mind.. I hadn't seen that this is <code>pop-tools</code> <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="9939"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9939" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9939">(May 28 2020 at 19:28)</a>:</h4>
<p>I am not <span aria-label="100" class="emoji emoji-1f4af" role="img" title="100">:100:</span> convinced that the following is going to work, but it is worth trying. </p>
<p>How about updating the hooks:</p>
<div class="codehilite"><pre><span></span><span class="nt">repos</span><span class="p">:</span>

  <span class="p p-Indicator">-</span>   <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/pre-commit/pre-commit-hooks</span>
      <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v2.2.3</span>
      <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span>   <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">trailing-whitespace</span>
      <span class="p p-Indicator">-</span>   <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">end-of-file-fixer</span>
      <span class="p p-Indicator">-</span>   <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">check-docstring-first</span>
      <span class="p p-Indicator">-</span>   <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">check-yaml</span>
      <span class="p p-Indicator">-</span>   <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">double-quote-string-fixer</span>

  <span class="p p-Indicator">-</span>   <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/ambv/black</span>
      <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">19.3b0</span>
      <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">black</span>
        <span class="nt">args</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;--line-length&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;100&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;--skip-string-normalization&quot;</span><span class="p p-Indicator">]</span>

  <span class="p p-Indicator">-</span>   <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://gitlab.com/pycqa/flake8</span>
      <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.8.1</span>
      <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flake8</span>

  <span class="p p-Indicator">-</span>   <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/asottile/seed-isort-config</span>
      <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.9.0</span>
      <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span>   <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">seed-isort-config</span>
  <span class="p p-Indicator">-</span>   <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/pre-commit/mirrors-isort</span>
      <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v4.3.20</span>
      <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span>   <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">isort</span>
          <span class="nt">args</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;-w&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;100&quot;</span><span class="p p-Indicator">]</span>
</pre></div>


<p>followed by </p>
<div class="codehilite"><pre><span></span>pre-commit autoupdate
</pre></div>


<div class="codehilite"><pre><span></span>git add .  <span class="o">&amp;&amp;</span> pre-commit run
</pre></div>



<a name="9940"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9940" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9940">(May 28 2020 at 19:34)</a>:</h4>
<p>No, that didn't work unfortunately. I updated <code>flake8</code> to 3.8.1 and ran those commands. I did this with and without blacken-docs as a hook. Are you reproducing this error when trying to run pre-commit on pop-tools?</p>



<a name="9941"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9941" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9941">(May 28 2020 at 19:34)</a>:</h4>
<p>Is <code>pre-commit</code> installed in your <code>base</code> environment?</p>



<a name="9942"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9942" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9942">(May 28 2020 at 19:34)</a>:</h4>
<p>No it's not</p>



<a name="9943"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9943" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9943">(May 28 2020 at 19:35)</a>:</h4>
<p>Just installed it in base and still had the issue.</p>



<a name="9944"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9944" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9944">(May 28 2020 at 19:35)</a>:</h4>
<p>I.e. install in base then activate <code>pop-tools-dev</code> and trying running it.</p>



<a name="9945"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9945" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9945">(May 28 2020 at 19:36)</a>:</h4>
<p>Do you have <code>setuptools</code> in your <code>base</code> environment?</p>



<a name="9946"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9946" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9946">(May 28 2020 at 19:40)</a>:</h4>
<p>Yes</p>



<a name="9947"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9947" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9947">(May 28 2020 at 19:42)</a>:</h4>
<blockquote>
<p>Are you reproducing this error when trying to run pre-commit on pop-tools? </p>
</blockquote>
<p>Yes</p>
<div class="codehilite"><pre><span></span>abanihi at casper26 in ~/work/devel/ncar/pop-tools on update-pooch-downloader
$ pre-commit run --verbose --all-files
Trim Trailing Whitespace.................................................Failed
- hook id: trailing-whitespace
- duration: <span class="m">0</span>.14s
- <span class="nb">exit</span> code: <span class="m">1</span>
- files were modified by this hook

Fixing pop_tools/input_templates/tx1v1_vert_grid

Fix End of Files.........................................................Failed
- hook id: end-of-file-fixer
- duration: <span class="m">0</span>.13s
- <span class="nb">exit</span> code: <span class="m">1</span>
- files were modified by this hook

Fixing docs/Makefile
Fixing .coveragerc

Check docstring is first.................................................Passed
- hook id: check-docstring-first
- duration: <span class="m">0</span>.09s
Check Yaml...............................................................Passed
- hook id: check-yaml
- duration: <span class="m">0</span>.26s
Fix double quoted strings................................................Passed
- hook id: double-quote-string-fixer
- duration: <span class="m">0</span>.08s
black....................................................................Passed
- hook id: black
- duration: <span class="m">0</span>.68s

All <span class="k">done</span>! ‚ú® üç∞ ‚ú®
<span class="m">17</span> files left unchanged.

Flake8...................................................................Passed
- hook id: flake8
- duration: <span class="m">0</span>.86s
seed isort known_third_party.............................................Passed
- hook id: seed-isort-config
- duration: <span class="m">0</span>.09s
isort....................................................................Passed
- hook id: isort
- duration: <span class="m">1</span>.12s
blacken-docs.............................................................Passed
- hook id: blacken-docs
- duration: <span class="m">0</span>.64s
</pre></div>



<a name="9949"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9949" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9949">(May 28 2020 at 19:44)</a>:</h4>
<p>I have to run some errands. When I'm back I'll see if I'm reproducing this locally (on my desktop) for <code>pop-tools</code> and if it's something that's happening e.g. at <code>climpred</code> as well..</p>



<a name="9970"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9970" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9970">(May 28 2020 at 20:46)</a>:</h4>
<p>Ran it locally on <code>pop-tools</code>. First did <code>pre-commit autoupdate</code> and then when I ran it, I was told that <code>flake8</code> migrated to <code>https://gitlab.com/pycqa/flake8</code>, so I switched that out for the repo on the config file and changed the rev to <code>3.8.2</code> and it worked. Let me see if that's the case on cheyenne.</p>



<a name="9973"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9973" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9973">(May 28 2020 at 20:50)</a>:</h4>
<p>Hm I changed out the repo for pre-commit on cheyenne and it didn't work. Switched to an interactive node on casper and it worked. Not really sure what's going on here.</p>



<a name="9974"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9974" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anderson Banihirwe <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9974">(May 28 2020 at 20:52)</a>:</h4>
<blockquote>
<p>Hm I changed out the repo for pre-commit on cheyenne and it didn't work. Switched to an interactive node on casper and it worked. Not really sure what's going on here.</p>
</blockquote>
<p>It's weird that it works on Casper and not on Cheyenne...</p>



<a name="9976"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/17-python-dev/topic/pre-commit%20errors/near/9976" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riley Brady <a href="http://127.0.0.1:4000/html/stream/17-python-dev/topic/pre-commit.20errors.html#9976">(May 28 2020 at 20:54)</a>:</h4>
<p>Yeah they're both of course accessing the same miniconda folder and cache on glade. I'll go forward with this for now and will let you know if anything else comes up.</p>



<hr><p>Last updated: Dec 17 2024 at 18:57 UTC</p>
</html>