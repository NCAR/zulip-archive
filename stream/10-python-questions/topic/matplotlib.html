<html>
<head><meta charset="utf-8"><title>matplotlib · python-questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="../../..//stream/10-python-questions/index.html">python-questions</a></h2>
<h3>Topic: <a href="../../..//stream/10-python-questions/topic/matplotlib.html">matplotlib</a></h3>

<hr>


<head><link href="../../../style.css" rel="stylesheet"></head>

<a name="53740"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53740" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Bailey <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53740">(Apr 18 2022 at 20:09)</a>:</h4>
<p>Dumb question. I have a script that uses some matplotlib functions, but it cannot find these on cheyenne. Does anyone know what the issue with these lines would be:</p>
<div class="codehilite"><pre><span></span><code>    import matplotlib.pyplot as plt
    from mpl_toolkits.basemap import Basemap
    from mpl_toolkits.axes_grid1 import make_axes_locatable
</code></pre></div>

<p>Note that I tried both the ncar_pylib and the conda environment.</p>



<a name="53741"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53741" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Paul <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53741">(Apr 18 2022 at 20:11)</a>:</h4>
<p><span class="user-mention" data-user-id="93">@David Bailey</span>:  When you say "on cheyenne," do you mean that you are running on the JupyterHub on Cheyenne?  Or is this in a python script that you are running on a Cheyenne login or compute node directly?</p>



<a name="53742"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53742" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Bailey <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53742">(Apr 18 2022 at 20:11)</a>:</h4>
<p>I am running a python script on a cheyenne node directly.</p>



<a name="53743"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53743" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Paul <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53743">(Apr 18 2022 at 20:13)</a>:</h4>
<p>Ok.  Thanks!  How are you setting up your python environment?  (e.g., is it a <code>module load npl</code> or <code>module load conda</code> etc.)</p>



<a name="53744"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53744" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Bailey <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53744">(Apr 18 2022 at 20:13)</a>:</h4>
<p>I did the module load conda and then conda activate npl.</p>



<a name="53745"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53745" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Paul <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53745">(Apr 18 2022 at 20:13)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="53746"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53746" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Paul <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53746">(Apr 18 2022 at 20:14)</a>:</h4>
<p>Ok.  After <code>conda activate npl</code>, can you do a <code>conda list</code>?  What does it show?</p>



<a name="53747"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53747" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Bailey <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53747">(Apr 18 2022 at 20:16)</a>:</h4>
<p>matplotlib                3.5.1            py37h89c1867_0    conda-forge<br>
matplotlib-base           3.5.1            py37h1058ff1_0    conda-forge<br>
matplotlib-inline         0.1.3              pyhd8ed1ab_0    conda-forge</p>
<p>No mpl_toolkits.</p>



<a name="53748"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53748" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deepak Cherian <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53748">(Apr 18 2022 at 20:17)</a>:</h4>
<p>what about basemap?</p>



<a name="53749"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53749" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Bailey <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53749">(Apr 18 2022 at 20:17)</a>:</h4>
<p>No basemap either.</p>



<a name="53751"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53751" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Paul <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53751">(Apr 18 2022 at 20:20)</a>:</h4>
<p>I'm not sure basemap is supported any more.  The canonical replacement for basemap is cartopy.  Is that the only "import error" that you are getting (namely, <code>mpl_toolkit</code>)?</p>



<a name="53752"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53752" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Bailey <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53752">(Apr 18 2022 at 20:25)</a>:</h4>
<p>Yes, that is the one that is missing. When you say "not supported" can I still use it? The script is not that old.</p>



<a name="53753"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53753" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Paul <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53753">(Apr 18 2022 at 20:26)</a>:</h4>
<p>I think you can still use it.  But the NPL conda environment is supported by the CISL CSG folks, and you would need to ask them to install basemap in the NPL conda environment.</p>



<a name="53754"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53754" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Bailey <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53754">(Apr 18 2022 at 20:27)</a>:</h4>
<p>Got it. I suppose I could convert to cartopy. Can you point me to a good quick start guide?</p>



<a name="53762"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53762" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Paul <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53762">(Apr 18 2022 at 20:53)</a>:</h4>
<p>Ryan Abernathey at LDEO has a nice tutorial on cartopy here:</p>
<p><a href="https://rabernat.github.io/research_computing_2018/maps-with-cartopy.html">https://rabernat.github.io/research_computing_2018/maps-with-cartopy.html</a></p>
<p>And he even mentions at the top that Basemap is "going away."</p>



<a name="53767"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53767" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Bailey <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53767">(Apr 18 2022 at 21:14)</a>:</h4>
<p>Great. I was able to do pip install basemap and get it working. So, that at least gives me a solution short-term.</p>



<a name="53798"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53798" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Camron <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53798">(Apr 19 2022 at 16:51)</a>:</h4>
<p>Previous maintainers of basemap had indeed <a href="https://matplotlib.org/basemap/users/intro.html#deprecation-notice">stepped away</a> and pointed people to Cartopy, intending for a "final" release in 2020 with Python 2 EOL. I just now discovered that partial maintenance has been resumed by volunteers, and they seem to have chosen to remove said notices about deprecation and cut multiple new <a href="https://github.com/matplotlib/basemap/releases">releases</a> for Windows/Linux in just the past few months. I guess there's still some love for basemap!</p>



<a name="53799"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/matplotlib/near/53799" class="zl"><img src="../../../assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Paul <a href="../../..//stream/10-python-questions/topic/matplotlib.html#53799">(Apr 19 2022 at 16:53)</a>:</h4>
<p>Never underestimate open source, I guess! <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>  Thanks for that find, <span class="user-mention" data-user-id="169">@Drew Camron</span>!</p>



<hr><p>Last updated: May 16 2025 at 17:14 UTC</p>
</html>