<html>
<head><meta charset="utf-8"><title>Pangeo-Forge-Recipes on NCAR HPC · python-questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://127.0.0.1:4000/html/stream/10-python-questions/index.html">python-questions</a></h2>
<h3>Topic: <a href="http://127.0.0.1:4000/html/stream/10-python-questions/topic/Pangeo-Forge-Recipes.20on.20NCAR.20HPC.html">Pangeo-Forge-Recipes on NCAR HPC</a></h3>

<hr>

<base href="https://zulip2.cloud.ucar.edu">

<head><link href="http://127.0.0.1:4000/style.css" rel="stylesheet"></head>

<a name="103877"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/Pangeo-Forge-Recipes%20on%20NCAR%20HPC/near/103877" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Sampson <a href="http://127.0.0.1:4000/html/stream/10-python-questions/topic/Pangeo-Forge-Recipes.20on.20NCAR.20HPC.html#103877">(Aug 20 2024 at 16:14)</a>:</h4>
<p>I am trying to write a workflow using <a href="https://pangeo-forge.readthedocs.io/en/latest/index.html">Pangeo-Forge-Recipes</a>, which will hopefully run on NCAR HPC. Has anyone here used any of the pangeo-forge-recipes on Casper/Derecho? I am not finding any examples and am struggling with building a workflow. The main issue seems to be with how to work with apache Beam on the HPC and/or using Dask clusters with this library.</p>



<a name="103893"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/Pangeo-Forge-Recipes%20on%20NCAR%20HPC/near/103893" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katelyn FitzGerald <a href="http://127.0.0.1:4000/html/stream/10-python-questions/topic/Pangeo-Forge-Recipes.20on.20NCAR.20HPC.html#103893">(Aug 21 2024 at 17:25)</a>:</h4>
<p><span class="user-mention" data-user-id="389">@Harsha Hampapura</span>, is this anything you've run into / explored in your work?</p>
<p><span class="user-mention" data-user-id="71">@Negin Sobhani</span> not sure if you might have some thoughts here as well.</p>



<a name="103894"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/Pangeo-Forge-Recipes%20on%20NCAR%20HPC/near/103894" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harsha Hampapura <a href="http://127.0.0.1:4000/html/stream/10-python-questions/topic/Pangeo-Forge-Recipes.20on.20NCAR.20HPC.html#103894">(Aug 21 2024 at 17:35)</a>:</h4>
<p>Unfortunately, I haven't used pangeo-forge-recipes on Casper/Derecho before.</p>



<a name="103898"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/Pangeo-Forge-Recipes%20on%20NCAR%20HPC/near/103898" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Negin Sobhani <a href="http://127.0.0.1:4000/html/stream/10-python-questions/topic/Pangeo-Forge-Recipes.20on.20NCAR.20HPC.html#103898">(Aug 21 2024 at 19:41)</a>:</h4>
<p>Thanks so much for tagging me <span class="user-mention" data-user-id="339">@Katelyn FitzGerald</span> </p>
<p><span class="user-mention" data-user-id="276">@Kevin Sampson</span>  If you can use dask cluster, that is preferred compared to apache beam workflow. </p>
<p>I had this discussion with the developers last year and there were some discussions on extending apache backend with flink to support distributed  systems then but I am not sure what the status of that is currently.   Please feel free to send an email to <a href="mailto:cislhelp@ucar.edu">cislhelp@ucar.edu</a> if you want HPC consultants to explore this further.</p>



<a name="103904"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/10-python-questions/topic/Pangeo-Forge-Recipes%20on%20NCAR%20HPC/near/103904" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Sampson <a href="http://127.0.0.1:4000/html/stream/10-python-questions/topic/Pangeo-Forge-Recipes.20on.20NCAR.20HPC.html#103904">(Aug 21 2024 at 20:05)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="71">@Negin Sobhani</span> . I can use dask/xarray workflows but they seem wildly inefficient (extremely large graphs being produced, long wait times for workers to get jobs from the scheduler) and I was exploring the more recently developed pangeo-forge-recipes as a way of testing alternative workflows. This is all centered around using kerchunk to produce zarr-like arrays from many (300k+) netCDF files.</p>



<hr><p>Last updated: Dec 17 2024 at 18:57 UTC</p>
</html>