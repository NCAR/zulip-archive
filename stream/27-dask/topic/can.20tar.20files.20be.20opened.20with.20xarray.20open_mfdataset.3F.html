<html>
<head><meta charset="utf-8"><title>can tar files be opened with xarray open_mfdataset? · dask · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://127.0.0.1:4000/html/stream/27-dask/index.html">dask</a></h2>
<h3>Topic: <a href="http://127.0.0.1:4000/html/stream/27-dask/topic/can.20tar.20files.20be.20opened.20with.20xarray.20open_mfdataset.3F.html">can tar files be opened with xarray open_mfdataset?</a></h3>

<hr>

<base href="https://zulip2.cloud.ucar.edu">

<head><link href="http://127.0.0.1:4000/style.css" rel="stylesheet"></head>

<a name="28174"></a>
<h4><a href="https://zulip2.cloud.ucar.edu#narrow/stream/27-dask/topic/can%20tar%20files%20be%20opened%20with%20xarray%20open_mfdataset%3F/near/28174" class="zl"><img src="http://127.0.0.1:4000/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Yeager <a href="http://127.0.0.1:4000/html/stream/27-dask/topic/can.20tar.20files.20be.20opened.20with.20xarray.20open_mfdataset.3F.html#28174">(Mar 31 2021 at 23:56)</a>:</h4>
<p>I'd like to read in a tar file of ocean TEMP netcdfs corresponding to 10 CESM-DPLE members using xarray &amp; dask. This code block returns a dask array dimensioned M=1, but I want to get M=10 (10 ensemble members). Is there a way to do it without first untarring?</p>
<div class="codehilite"><pre><span></span><span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;/glade/campaign/cesm/collections/CESM1-DPLE/ocn/proc/tseries/monthly/TEMP/b.e11.BDP.f09_g16.1995-11.031-040.pop.h.TEMP.199511-200512.tar&#39;</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span><span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span><span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">concat_dim</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">)</span>
</pre></div>



<hr><p>Last updated: Dec 17 2024 at 18:57 UTC</p>
</html>