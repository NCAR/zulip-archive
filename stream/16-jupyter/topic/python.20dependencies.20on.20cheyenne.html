<html>
<head><meta charset="utf-8"><title>python dependencies on cheyenne · jupyter · Zulip Chat Archive</title></head>
<div class='page-content'><h2>Stream: <a href="https://ncar.github.io/zulip-archive/stream/16-jupyter/index.html">jupyter</a></h2>
<h3>Topic: <a href="https://ncar.github.io/zulip-archive/stream/16-jupyter/topic/python.20dependencies.20on.20cheyenne.html">python dependencies on cheyenne</a></h3>

<hr>

<base href="https://zulip2.cloud.ucar.edu/">

<head><link href="https://ncar.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="6773"></a>
<h4><a href="https://zulip2.cloud.ucar.edu/#narrow/stream/16-jupyter/topic/python%20dependencies%20on%20cheyenne/near/6773" class="zl"><img src="https://ncar.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charlie Koven <a href="https://ncar.github.io/zulip-archive/stream/16-jupyter/topic/python.20dependencies.20on.20cheyenne.html#6773">(Apr 17 2020 at 20:35)</a>:</h4>
<p>Hi All, Not sure if this is the right place to post this but I have a question.  I'm trying to plot a thing, using xarray via jupyter on cheyenne, and am getting the following error:</p>
<p>ImportError: Plotting of arrays of cftime.datetime objects or arrays indexed by cftime.datetime objects requires the optional <code>nc-time-axis</code> (v1.2.0 or later) package.</p>
<p>which I see arises from here: <a href="https://github.com/pydata/xarray/blob/master/xarray/plot/utils.py#L570" target="_blank" title="https://github.com/pydata/xarray/blob/master/xarray/plot/utils.py#L570">https://github.com/pydata/xarray/blob/master/xarray/plot/utils.py#L570</a></p>
<p>my question is, does anyone know the easiest way to satisfy such a dependency on cheyenne?  my current python environment is just the standard one that load via the ncar_pylib command, and I'm not very sophisticated in dealign with dependencies on that system; i.e. how do I install further things on top of that?  thanks for any tips!</p>



<a name="6774"></a>
<h4><a href="https://zulip2.cloud.ucar.edu/#narrow/stream/16-jupyter/topic/python%20dependencies%20on%20cheyenne/near/6774" class="zl"><img src="https://ncar.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deepak Cherian <a href="https://ncar.github.io/zulip-archive/stream/16-jupyter/topic/python.20dependencies.20on.20cheyenne.html#6774">(Apr 17 2020 at 20:42)</a>:</h4>
<p>I think you have two options.</p>
<p>Option 1 : Follow "Creating your own clone of the NCAR Package Library" and then pip install nc-time-axis</p>
<p>- <a href="https://www2.cisl.ucar.edu/resources/python-%E2%80%93-ncar-package-library" target="_blank" title="https://www2.cisl.ucar.edu/resources/python-%E2%80%93-ncar-package-library">https://www2.cisl.ucar.edu/resources/python-%E2%80%93-ncar-package-library</a></p>
<p>Option 2 : Follow <a href="https://github.com/NCAR/ncar-python-tutorial" target="_blank" title="https://github.com/NCAR/ncar-python-tutorial">https://github.com/NCAR/ncar-python-tutorial</a> and then you're totally independent of whatever CISL chooses to provide on cheyenne.</p>



<a name="6775"></a>
<h4><a href="https://zulip2.cloud.ucar.edu/#narrow/stream/16-jupyter/topic/python%20dependencies%20on%20cheyenne/near/6775" class="zl"><img src="https://ncar.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Long <a href="https://ncar.github.io/zulip-archive/stream/16-jupyter/topic/python.20dependencies.20on.20cheyenne.html#6775">(Apr 17 2020 at 20:43)</a>:</h4>
<p><span class="user-mention" data-user-id="95">@Charlie Koven</span>, my recommendation is use <code>conda</code> to create your own environment. </p>
<p>The README here<br/>
<a href="https://github.com/NCAR/ncar-python-tutorial" target="_blank" title="https://github.com/NCAR/ncar-python-tutorial">https://github.com/NCAR/ncar-python-tutorial</a> <br/>
bundles several steps together. Essentially these are</p>
<ol>
<li>
<p><strong>Download and install  miniconda</strong><br/>
You can get Miniconda here<br/>
<a href="https://docs.conda.io/en/latest/miniconda.html" target="_blank" title="https://docs.conda.io/en/latest/miniconda.html">https://docs.conda.io/en/latest/miniconda.html</a><br/>
(64-bit linux, Python 3)</p>
</li>
<li>
<p><strong>Create environment from a file</strong><br/>
Here's an example environment file<br/>
<a href="https://github.com/marbl-ecosys/cesm2-marbl/blob/master/environment.yaml" target="_blank" title="https://github.com/marbl-ecosys/cesm2-marbl/blob/master/environment.yaml">https://github.com/marbl-ecosys/cesm2-marbl/blob/master/environment.yaml</a><br/>
You can modify this to suit your purposes, then run </p>
</li>
</ol>
<div class="codehilite"><pre><span></span>conda env create -f environment.yaml
</pre></div>



<a name="6776"></a>
<h4><a href="https://zulip2.cloud.ucar.edu/#narrow/stream/16-jupyter/topic/python%20dependencies%20on%20cheyenne/near/6776" class="zl"><img src="https://ncar.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charlie Koven <a href="https://ncar.github.io/zulip-archive/stream/16-jupyter/topic/python.20dependencies.20on.20cheyenne.html#6776">(Apr 17 2020 at 20:45)</a>:</h4>
<p>ok, thanks both.  i'll try those.  i've managed to avoid having to make a conda install on cheyenne thusfar but i guess it may be necessary.</p>



<a name="6777"></a>
<h4><a href="https://zulip2.cloud.ucar.edu/#narrow/stream/16-jupyter/topic/python%20dependencies%20on%20cheyenne/near/6777" class="zl"><img src="https://ncar.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charlie Koven <a href="https://ncar.github.io/zulip-archive/stream/16-jupyter/topic/python.20dependencies.20on.20cheyenne.html#6777">(Apr 17 2020 at 20:53)</a>:</h4>
<p>ok <span class="user-mention" data-user-id="25">@Deepak Cherian</span> your method worked.  no conda install needed. cheers both!</p>



<hr><p>Last updated: Jan 30 2022 at 12:01 UTC</p>
</html></div>